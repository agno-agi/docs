---
title: Build a Social Media Intelligence Agent
sidebarTitle: Social Media Agent
description: Create a professional-grade social media intelligence system using Agno.
---

In this tutorial, we'll build a social media intelligence agent that monitors X (Twitter), performs sentiment analysis, and generates strategic reports.

**What we're using:**
- **Agno** - Framework for building agents
- **XTools** - Real-time Twitter/X data with engagement metrics
- **ExaTools** - Semantic web search for broader context
- **GPT-4o-mini** - Cost-effective model for analysis

<img
  src="/images/social-media-agent-architecture.png"
  alt="Social Media Agent Architecture"
  style={{ width: "100%" }}
/>

## Prerequisites

Before we start, grab your API keys:

- [OpenAI API](https://platform.openai.com/api-keys)
- [X (Twitter) Developer Account](https://developer.twitter.com/en/apply-for-access) - You'll need Consumer Key/Secret, Access Token/Secret, and Bearer Token
- [Exa API](https://exa.ai)

<Tip>
X API access requires a developer account at [developer.x.com](https://developer.x.com). You can still follow along using just ExaTools if you don't have X API access yet.
</Tip>

## Quick Setup

```bash
# Create project and virtual environment
mkdir social-intel && cd social-intel
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# Install dependencies
pip install agno "fastapi[standard]" uvicorn openai tweepy exa_py python-dotenv sqlalchemy aiosqlite
```

Create a `.env` file:

```env
OPENAI_API_KEY=sk-your-openai-key
EXA_API_KEY=your-exa-key

# X (Twitter) credentials
X_BEARER_TOKEN=your-bearer-token
X_CONSUMER_KEY=your-consumer-key
X_CONSUMER_SECRET=your-consumer-secret
X_ACCESS_TOKEN=your-access-token
X_ACCESS_TOKEN_SECRET=your-access-token-secret
```

Now let's create `social_media_agent.py` and build it step by step.

<Note>
Steps 1-4 explain each component individually. The complete working code is in Step 5 - you can skip there if you want to run it first and learn later.
</Note>

---

## Step 1: Choose Your AI Model

**Which model should I use?** You can choose any model from our [supported providers](/integrations/models/openai). Models are typically chosen based on cost and performance.

**Why GPT-4o-mini?**
- **Cost-effective** - Great price/performance for analysis tasks
- **Tool usage** - Reliably decides when to call XTools vs ExaTools
- **Structured output** - Generates clean formatted reports

```python
from dotenv import load_dotenv
from agno.models.openai import OpenAIChat

load_dotenv()

# Choose the AI model
model = OpenAIChat(id="gpt-4o-mini")
```

---

## Step 2: Add Social Media Tools

**Which tools should I use?** We're adding XTools for direct Twitter/X data with engagement metrics, and ExaTools for broader web context that social media alone can't provide.

### 2a. XTools for Twitter/X Data

**Why XTools?** Direct access to Twitter/X with engagement metrics is crucial for understanding influence patterns and viral content.

```python
from agno.tools.x import XTools

x_tools = XTools(
    include_post_metrics=True,   # Get likes, retweets, replies
    wait_on_rate_limit=True,     # Handle API limits gracefully
)
```

**What `include_post_metrics=True` gives you:**
- Like counts (engagement volume)
- Retweet counts (viral spread)
- Reply counts (conversation depth)
- Author verification status (influence weighting)

### 2b. ExaTools for Web Intelligence

**Why ExaTools?** Social media discussions often reference broader conversations happening across the web.

```python
from agno.tools.exa import ExaTools

exa_tools = ExaTools(
    num_results=10,
    include_domains=["reddit.com", "news.ycombinator.com", "medium.com"],
)
```

**Why these specific domains?**
- **Reddit** - Early discussion indicators, community sentiment
- **HackerNews** - Tech industry insights, developer opinions
- **Medium** - Thought leadership, analysis articles

---

## Step 3: Define Intelligence Strategy

**Why do we need instructions?** Without clear instructions, the agent won't know how to use the tools effectively or what kind of analysis to provide.

```python
from textwrap import dedent

instructions = dedent("""
    You are a Senior Social Media Intelligence Analyst.

    DATA COLLECTION:
    - Use XTools to gather tweets with engagement metrics
    - Use ExaTools to find broader web discussions and context
    - Cross-reference both sources for comprehensive coverage

    ANALYSIS:
    - Classify sentiment as Positive/Negative/Neutral/Mixed
    - Weight by engagement (likes, retweets) and influence
    - Identify patterns: viral content, controversies, key influencers

    REPORT FORMAT:
    ### Executive Summary
    - **Brand Health Score**: [1-10] with evidence
    - **Net Sentiment**: [% positive - % negative]
    - **Alert Level**: Normal / Monitor / Crisis

    ### Key Findings
    | Sentiment | Count | Avg Engagement | Notable Posts |
    |-----------|-------|----------------|---------------|

    ### Recommendations
    - **Immediate (48h)**: Quick wins and urgent responses
    - **Short-term (1-2 weeks)**: Content and engagement strategy
    - **Long-term (1-3 months)**: Positioning and growth
""")
```

**Why structure it this way?**
- **Role** - Sets the expertise level and tone
- **Methodology** - Guides tool usage decisions
- **Analysis framework** - Ensures consistent evaluation
- **Report format** - Guarantees actionable output

---

## Step 4: Create the Complete Agent

Now let's put all the pieces together:

```python
from agno.agent import Agent

social_media_agent = Agent(
    name="Social Media Intelligence Analyst",
    model=model,
    tools=[x_tools, exa_tools],
    instructions=instructions,
    markdown=True,
)
```

Add a function to run the analysis:

```python
def analyze(query: str, tweet_count: int = 20):
    """Run brand intelligence analysis."""
    prompt = f"""
    Analyze social media sentiment for: "{query}"

    1. Search X for {tweet_count} recent tweets with engagement metrics
    2. Search Exa for related web discussions
    3. Analyze sentiment patterns across both sources
    4. Generate a strategic intelligence report
    """
    return social_media_agent.print_response(prompt, stream=True)
```

---

## Step 5: Complete Working Code

Here's the complete `social_media_agent.py`:

```python
"""Social Media Intelligence Agent"""
from textwrap import dedent
from dotenv import load_dotenv

from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.tools.x import XTools
from agno.tools.exa import ExaTools

load_dotenv()

# Step 1: Choose the AI model
model = OpenAIChat(id="gpt-4o-mini")

# Step 2: Configure tools
x_tools = XTools(
    include_post_metrics=True,
    wait_on_rate_limit=True,
)

exa_tools = ExaTools(
    num_results=10,
    include_domains=["reddit.com", "news.ycombinator.com", "medium.com"],
)

# Step 3: Define instructions
instructions = dedent("""
    You are a Senior Social Media Intelligence Analyst.

    DATA COLLECTION:
    - Use XTools to gather tweets with engagement metrics
    - Use ExaTools to find broader web discussions and context
    - Cross-reference both sources for comprehensive coverage

    ANALYSIS:
    - Classify sentiment as Positive/Negative/Neutral/Mixed
    - Weight by engagement (likes, retweets) and influence
    - Identify patterns: viral content, controversies, key influencers

    REPORT FORMAT:
    ### Executive Summary
    - **Brand Health Score**: [1-10] with evidence
    - **Net Sentiment**: [% positive - % negative]
    - **Alert Level**: Normal / Monitor / Crisis

    ### Key Findings
    | Sentiment | Count | Avg Engagement | Notable Posts |
    |-----------|-------|----------------|---------------|

    ### Recommendations
    - **Immediate (48h)**: Quick wins and urgent responses
    - **Short-term (1-2 weeks)**: Content and engagement strategy
    - **Long-term (1-3 months)**: Positioning and growth
""")

# Step 4: Create the agent
social_media_agent = Agent(
    name="Social Media Intelligence Analyst",
    model=model,
    tools=[x_tools, exa_tools],
    instructions=instructions,
    markdown=True,
)


def analyze(query: str, tweet_count: int = 20):
    """Run brand intelligence analysis."""
    prompt = f"""
    Analyze social media sentiment for: "{query}"

    1. Search X for {tweet_count} recent tweets with engagement metrics
    2. Search Exa for related web discussions
    3. Analyze sentiment patterns across both sources
    4. Generate a strategic intelligence report
    """
    return social_media_agent.print_response(prompt, stream=True)


if __name__ == "__main__":
    analyze("Agno AI", tweet_count=15)
```

**Run it:**

```bash
python social_media_agent.py
```

You should see the agent search X, search the web, and generate a formatted intelligence report.

---

## Step 6: Deploy to AgentOS

Now let's make this production-ready with [AgentOS](/agent-os/introduction). Create `my_os.py`:

```python
"""AgentOS deployment for Social Media Intelligence"""
from textwrap import dedent
from dotenv import load_dotenv

from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.tools.x import XTools
from agno.tools.exa import ExaTools
from agno.db.sqlite import AsyncSqliteDb
from agno.os import AgentOS

load_dotenv()

social_media_agent = Agent(
    name="Social Media Intelligence Analyst",
    model=OpenAIChat(id="gpt-4o-mini"),
    tools=[
        XTools(include_post_metrics=True, wait_on_rate_limit=True),
        ExaTools(
            num_results=10,
            include_domains=["reddit.com", "news.ycombinator.com", "medium.com"],
        ),
    ],
    instructions=dedent("""
        You are a Senior Social Media Intelligence Analyst.

        When analyzing a brand or topic:
        1. Search X for recent tweets with engagement metrics
        2. Search Exa for broader web discussions
        3. Analyze sentiment patterns
        4. Generate a strategic report with:
           - Brand Health Score (1-10)
           - Net Sentiment analysis
           - Key findings with metrics
           - Recommendations (immediate, short-term, long-term)
    """),
    db=AsyncSqliteDb(db_file="social_intel.db"),
    markdown=True,
)

agent_os = AgentOS(
    id="social-intel",
    description="Social Media Intelligence System",
    agents=[social_media_agent],
)

app = agent_os.get_app()

if __name__ == "__main__":
    agent_os.serve(app="my_os:app", reload=True)
```

**What changed from the standalone script?**

| Addition | Purpose |
|----------|---------|
| `AsyncSqliteDb` | Persists conversation history |
| `AgentOS` wrapper | Exposes agent as REST API |
| `agent_os.serve()` | Runs the FastAPI server |

**Start it:**

```bash
python my_os.py
```

Your API is now running at `http://localhost:7777`

### Test the API

```bash
# Check the config
curl http://localhost:7777/config

# Run an analysis
curl -X POST http://localhost:7777/agents/social-media-intelligence-analyst/runs \
  -F "message=Analyze sentiment for OpenAI" \
  -F "stream=false"
```

### Connect the Control Plane

For a visual dashboard:

1. Go to [agno.com/app](https://agno.com/app)
2. Click **Connect AgentOS**
3. Enter `http://localhost:7777`

Now you can chat with your agent, view session history, and monitor performance through the UI.

<video
  controls
  autoPlay
  muted
  src="/videos/social-media-agent-demo.mp4"
  style={{ width: "100%", borderRadius: "0.5rem" }}
></video>

---

## Step 7: Deploy to Railway (Optional)

Want to deploy your agent to the cloud? Railway makes it easy.

### 7a. Create Requirements File

```bash
cat > requirements.txt << 'EOF'
agno
fastapi[standard]
uvicorn
openai
tweepy
exa_py
python-dotenv
sqlalchemy
aiosqlite
EOF
```

### 7b. Create Procfile

```bash
cat > Procfile << 'EOF'
web: uvicorn my_os:app --host 0.0.0.0 --port $PORT
EOF
```

### 7c. Install Railway CLI and Login

```bash
# macOS
brew install railway

# Login to Railway
railway login
```

### 7d. Initialize and Deploy

```bash
railway init
railway up
```

### 7e. Add Environment Variables

In the Railway dashboard, add your environment variables:

- `OPENAI_API_KEY`
- `EXA_API_KEY`
- `X_BEARER_TOKEN`
- `X_CONSUMER_KEY`
- `X_CONSUMER_SECRET`
- `X_ACCESS_TOKEN`
- `X_ACCESS_TOKEN_SECRET`

Once deployed, you'll get a public URL like `https://social-intel-production.up.railway.app`.

Connect this URL to the AgentOS Control Plane at [agno.com/app](https://agno.com/app) to manage your production agent.

<Tip>
For more details on Railway deployment, see the [Railway template guide](/templates/agent-infra-railway/introduction).
</Tip>

---

## Next Steps

You've built a working social media intelligence system! Here are some ideas to extend it:

- **Add [Reddit Tools](/integrations/toolkits/reddit)** — Direct Reddit API access for deeper community analysis
- **Scheduled reports** — Run analysis on a cron job and send to Slack
- **Multi-brand monitoring** — Create separate agents for competitors
- **Custom alerts** — Add webhooks for crisis detection

<CardGroup cols={2}>
  <Card title="Explore Cookbooks" icon="book" href="https://github.com/agno-agi/agno/tree/main/cookbook">
    More agent examples and patterns
  </Card>
  <Card title="AgentOS Features" icon="rocket" href="/agent-os/features/overview">
    Knowledge bases, memory, and more
  </Card>
</CardGroup>

---

## Conclusion

In this tutorial, you built a social media intelligence agent that:

- Monitors X/Twitter with engagement metrics
- Searches the broader web for context
- Generates strategic reports with recommendations
- Runs as a production API via AgentOS

The same pattern works for any intelligence use case — just swap the tools and adjust the instructions for your domain.
