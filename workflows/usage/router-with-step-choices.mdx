---
title: Router with Step Choices
---

The `step_choices` parameter provides ultimate flexibility for dynamic routing, allowing Router selectors to return strings, Step objects, or lists of Steps for chained execution. It enables complex logic where available paths are inspected at runtime rather than hardcoded.

## How it works

- **Dynamic Inspection**: The selector function receives `step_choices` as a second argument, giving it access to all registered steps.
- **Flexible Returns**: Selectors can return a step name (string), a `Step` object directly, or a `List[Step]` for sequential execution.
- **Step Chaining**: Returning a list of steps creates a temporary sequence, executing them in order before returning to the main workflow.
- **Nested Containers**: Nested lists in the `choices` definition are treated as grouped Steps containers, allowing you to select entire sub-workflows as a single unit.
- **Runtime Adaptation**: Because `step_choices` are passed at runtime, your selector can adapt its logic based on which tools or agents are currently available.

## Examples

<CardGroup cols={2}>
  <Card title="String Selector" icon="code" href="/workflows/usage/examples/router-choices/string-selector">
    Return step names as strings for simple resolution.
  </Card>
  <Card title="Dynamic Selector" icon="code" href="/workflows/usage/examples/router-choices/dynamic-selector">
    Inspect `step_choices` to dynamically select steps.
  </Card>
  <Card title="Nested Selector" icon="code" href="/workflows/usage/examples/router-choices/nested-selector">
    Select nested lists of steps as a single unit.
  </Card>
</CardGroup>
