---
title: Retry
---

## Code

```python cookbook/11_models/openai/completion/chat/retry.py
"""Example demonstrating how to set up retries with OpenAI Chat."""

from agno.agent import Agent
from agno.models.openai import OpenAIChat

# We will use a deliberately wrong model ID, to trigger retries.
wrong_model_id = "gpt-wrong-id"

agent = Agent(
    model=OpenAIChat(
        id=wrong_model_id,
        retries=3,  # Number of times to retry the request.
        delay_between_retries=1,  # Delay between retries in seconds.
        exponential_backoff=True,  # If True, the delay between retries is doubled each time.
    ),
)

agent.print_response("What is the capital of France?")
```

## Usage

<Steps>
  <Snippet file="create-venv-step.mdx" />

  <Step title="Set your API key">
    ```bash
    export OPENAI_API_KEY=xxx
    ```
  </Step>

  <Step title="Install dependencies">
    ```bash
    uv pip install -U agno openai
    ```
  </Step>

  <Step title="Run Agent">
    ```bash
    python cookbook/11_models/openai/completion/chat/retry.py
    ```
  </Step>
</Steps>
