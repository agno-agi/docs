---
title: Agent with GCS File Input
---

## Code

```python cookbook/11_models/google/gemini/gcs_file_input.py
"""
Pass files directly from Google Cloud Storage to Gemini without downloading.

GCS URIs support files up to 2GB and require Vertex AI authentication.
API keys do not support GCS access.

Requirements:
- Run: gcloud auth application-default login
- Set: GOOGLE_CLOUD_PROJECT and GOOGLE_CLOUD_LOCATION env vars
- Your GCS bucket must be accessible to your credentials

Supported formats: PDF, JSON, HTML, CSS, XML, images (PNG, JPEG, WebP, GIF)
"""

from agno.agent import Agent
from agno.media import File
from agno.models.google import Gemini

agent = Agent(
    model=Gemini(
        id="gemini-2.0-flash",
        vertexai=True,
    ),
    markdown=True,
)

agent.print_response(
    "Summarize this document and extract key insights.",
    files=[
        File(
            url="gs://cloud-samples-data/generative-ai/pdf/2312.11805v3.pdf",
            mime_type="application/pdf",
        )
    ],
)
```

## Usage

<Steps>
  <Snippet file="create-venv-step.mdx" />

  <Step title="Set up Vertex AI">
    ```bash
    gcloud auth application-default login
    export GOOGLE_CLOUD_PROJECT="your-project-id"
    export GOOGLE_CLOUD_LOCATION="us-central1"
    ```
  </Step>

  <Step title="Install dependencies">
    ```bash
    pip install -U google-genai agno
    ```
  </Step>

  <Step title="Run Agent">
    ```bash
    python cookbook/11_models/google/gemini/gcs_file_input.py
    ```
  </Step>
</Steps>
