---
title: Common Use Cases
sidebarTitle: Use Cases
description: Practical examples and patterns for using workflow history
---

## Avoiding Content Repetition

Perfect for content generation workflows that need to avoid repeating topics:

```python
from agno.agent import Agent
from agno.workflow import Workflow
from agno.workflow.step import Step
from agno.db.sqlite import SqliteDb
from agno.models.openai import OpenAIChat

content_creator = Agent(
    name="Content Creator",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "Create engaging content based on the topic.",
        "Review workflow history to see what topics you've covered.",
        "Avoid repeating similar content or themes.",
        "Build on previous work to create fresh perspectives.",
    ],
)

workflow = Workflow(
    name="Blog Generator",
    db=SqliteDb(db_file="blog.db"),
    steps=[
        Step(name="Generate", agent=content_creator),
    ],
    add_workflow_history_to_steps=True,
    num_history_runs=10,  # Check last 10 posts
)

# Each new post can see what was written before
workflow.run(input="Write about Python best practices")
workflow.run(input="Write about code optimization")  # Won't repeat Python content
workflow.run(input="Write about testing strategies")  # Builds on previous topics
```

## Building on Previous Analysis

Great for research workflows that need to maintain context:

```python
research_agent = Agent(
    name="Research Analyst",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "Analyze competitors based on the provided information.",
        "Review previous analyses in the workflow history.",
        "Build on insights from earlier research.",
        "Make comparisons when relevant.",
    ],
)

insight_agent = Agent(
    name="Strategic Insights",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "Generate strategic insights from the analysis.",
        "Reference previous competitors and findings.",
        "Identify patterns across all analyzed competitors.",
    ],
)

research_workflow = Workflow(
    name="Competitive Analysis",
    db=SqliteDb(db_file="research.db"),
    steps=[
        Step(
            name="Analyze Competitor",
            agent=research_agent,
            add_workflow_history=True,
        ),
        Step(
            name="Generate Insights",
            agent=insight_agent,
            add_workflow_history=True,
        ),
    ],
    num_history_runs=5,
)

# Analyze competitors one by one
workflow.run(input="Analyze competitor A")
workflow.run(input="Analyze competitor B")  # Can reference competitor A
workflow.run(input="Compare A and B")       # Has context from both
```

## Learning from User Feedback

Workflows that improve based on previous interactions:

```python
assistant_agent = Agent(
    name="Personal Assistant",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "You are a personal assistant.",
        "Learn from our conversation history to understand user preferences.",
        "Adapt your responses based on what worked well before.",
        "Remember user's communication style and preferences.",
    ],
)

assistant_workflow = Workflow(
    name="Personal Assistant",
    db=SqliteDb(db_file="assistant.db"),
    steps=[
        Step(
            name="Process Request",
            agent=assistant_agent,
            add_workflow_history=True,
        ),
    ],
    num_history_runs=20,  # Remember last 20 interactions
)

# Assistant learns user preferences over time
workflow.run(input="Schedule a meeting for tomorrow at 2pm")
workflow.run(input="Another meeting next week")  # Remembers scheduling preferences
workflow.run(input="What's on my calendar?")      # Has context of scheduled meetings
```

## Continuous Tutoring Sessions

Enable natural conversation flow across multiple sessions:

```python
tutor = Agent(
    name="AI Tutor",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "You are a personalized tutor.",
        "Review our conversation history from previous sessions.",
        "Build on what the student has learned.",
        "Don't repeat questions or explanations already covered.",
        "Track the student's progress and adapt difficulty accordingly.",
    ],
)

tutoring_workflow = Workflow(
    name="AI Tutor",
    description="Personalized tutoring with memory",
    db=SqliteDb(db_file="tutoring.db"),
    steps=[Step(name="Teach", agent=tutor)],
    add_workflow_history_to_steps=True,
    num_history_runs=10,
)

# Natural multi-session conversation
tutoring_workflow.run(input="I'm struggling with calculus derivatives")
# ... next day ...
tutoring_workflow.run(input="Can we continue with derivatives?")
# ... next week ...
tutoring_workflow.run(input="I need help with integrals now")
```

## Progressive Document Creation

Build documents incrementally over multiple runs:

```python
writer = Agent(
    name="Document Writer",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "You are writing a comprehensive document section by section.",
        "Review what sections have been written in previous runs.",
        "Ensure new sections connect well with existing content.",
        "Maintain consistent tone and style throughout.",
    ],
)

document_workflow = Workflow(
    name="Document Builder",
    db=SqliteDb(db_file="documents.db"),
    steps=[
        Step(name="Write Section", agent=writer, add_workflow_history=True),
    ],
    num_history_runs=15,
)

# Build document incrementally
workflow.run(input="Write the introduction")
workflow.run(input="Write the methodology section")
workflow.run(input="Write the results section")
workflow.run(input="Write the conclusion that ties everything together")
```

## Trend Analysis

Track patterns over time:

```python
analyst = Agent(
    name="Trend Analyst",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "Analyze the provided data for trends.",
        "Compare with previous analyses from workflow history.",
        "Identify changes and patterns over time.",
        "Highlight significant shifts or anomalies.",
    ],
)

trend_workflow = Workflow(
    name="Trend Analyzer",
    db=SqliteDb(db_file="trends.db"),
    steps=[
        Step(name="Analyze", agent=analyst, add_workflow_history=True),
    ],
    num_history_runs=30,  # Track long-term trends
)

# Periodic analysis
workflow.run(input="Analyze January sales data")
workflow.run(input="Analyze February sales data")  # Can compare with January
workflow.run(input="Analyze Q1 trends")            # Has full quarterly context
```

## Context-Aware Code Review

Code reviews that remember previous feedback:

```python
reviewer = Agent(
    name="Code Reviewer",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "Review code for quality, security, and best practices.",
        "Remember feedback given in previous reviews.",
        "Track if previous suggestions were addressed.",
        "Maintain consistent standards across reviews.",
    ],
)

review_workflow = Workflow(
    name="Code Review Pipeline",
    db=SqliteDb(db_file="reviews.db"),
    steps=[
        Step(name="Review", agent=reviewer, add_workflow_history=True),
    ],
    num_history_runs=10,
)

# Sequential reviews
workflow.run(input="Review: auth.py")
workflow.run(input="Review updated: auth.py")  # Knows what was previously flagged
workflow.run(input="Review: api.py")           # Applies consistent standards
```

## Customer Support Continuity

Maintain context across support interactions:

```python
support_agent = Agent(
    name="Support Specialist",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "Provide customer support based on the ticket.",
        "Review previous interactions with this customer.",
        "Reference past issues and solutions.",
        "Provide personalized support based on history.",
    ],
)

support_workflow = Workflow(
    name="Customer Support",
    db=SqliteDb(db_file="support.db"),
    steps=[
        Step(name="Handle Ticket", agent=support_agent, add_workflow_history=True),
    ],
    num_history_runs=20,
)

# Support interactions
workflow.run(
    input="Customer reports login issue",
    session_id="customer-123"
)
workflow.run(
    input="Customer thanks for help, now asks about billing",
    session_id="customer-123"
)
# Agent remembers the previous login issue conversation
```

## Recipe Variation Generator

Generate variations while avoiding repetition:

```python
chef = Agent(
    name="Chef AI",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "Create recipe variations based on the base recipe.",
        "Review previous variations in the history.",
        "Ensure each variation is unique and interesting.",
        "Don't repeat flavor combinations or techniques.",
    ],
)

recipe_workflow = Workflow(
    name="Recipe Variations",
    db=SqliteDb(db_file="recipes.db"),
    steps=[
        Step(name="Create Variation", agent=chef, add_workflow_history=True),
    ],
    num_history_runs=8,
)

# Generate variations
workflow.run(input="Create a variation of chocolate chip cookies")
workflow.run(input="Another variation")  # Different from first
workflow.run(input="One more variation")  # Unique from both previous
```

## Meeting Follow-ups

Track action items and decisions across meetings:

```python
meeting_assistant = Agent(
    name="Meeting Assistant",
    model=OpenAIChat(id="gpt-4o"),
    instructions=[
        "Summarize the meeting and track action items.",
        "Reference previous meetings and their outcomes.",
        "Note which action items were completed.",
        "Identify recurring topics or concerns.",
    ],
)

meeting_workflow = Workflow(
    name="Meeting Tracker",
    db=SqliteDb(db_file="meetings.db"),
    steps=[
        Step(name="Process Meeting", agent=meeting_assistant, add_workflow_history=True),
    ],
    num_history_runs=12,  # Last 3 months of weekly meetings
)

# Track meetings
workflow.run(input="Meeting notes: Project kickoff, assigned tasks")
workflow.run(input="Meeting notes: Sprint review, 3 tasks completed")
workflow.run(input="Meeting notes: Planning session")  # Has full project context
```

## Best Practices

### Choose Appropriate History Size

Match history size to your use case:

```python
# Short-term: Recent context only
quick_task_workflow = Workflow(
    num_history_runs=3,  # Just need immediate context
)

# Medium-term: Working memory
project_workflow = Workflow(
    num_history_runs=10,  # Current project phase
)

# Long-term: Full context
learning_workflow = Workflow(
    num_history_runs=25,  # Extended learning journey
)
```

### Provide Clear Instructions

Help agents use history effectively:

```python
agent = Agent(
    instructions=[
        "Your main task is to...",
        "",
        "IMPORTANT: Review the workflow history above.",
        "- See what topics have been covered",
        "- Note any patterns or preferences",
        "- Avoid repeating previous work",
        "- Build on prior insights",
    ],
)
```

### Monitor History Usage

Check if history is actually helping:

```python
# Compare with and without history
workflow_with_history = Workflow(
    name="With History",
    add_workflow_history_to_steps=True,
    steps=[...],
)

workflow_without_history = Workflow(
    name="Without History",
    add_workflow_history_to_steps=False,
    steps=[...],
)

# Test both and compare quality/relevance of outputs
```

## Related Topics

<CardGroup cols={2}>
  <Card title="Enable History" icon="toggle-on" href="/basics/sessions/workflow-sessions/workflow-history/usage/enable-history">
    Enable history globally or per-step
  </Card>
  <Card title="Control History Size" icon="list-ol" href="/basics/sessions/workflow-sessions/workflow-history/usage/control-size">
    Manage how many runs are included
  </Card>
  <Card title="Access Programmatically" icon="code" href="/basics/sessions/workflow-sessions/workflow-history/usage/access-programmatically">
    Work with history data directly
  </Card>
  <Card title="Overview" icon="book" href="/basics/sessions/workflow-sessions/workflow-history/overview">
    Back to workflow history overview
  </Card>
</CardGroup>

