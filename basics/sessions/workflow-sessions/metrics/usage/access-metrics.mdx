---
title: Access Session Metrics
sidebarTitle: Access Metrics
description: Get and work with workflow session metrics
---

## Get Current Session Metrics

```python
from agno.workflow import Workflow
from agno.db.sqlite import SqliteDb

workflow = Workflow(
    name="Research Pipeline",
    db=SqliteDb(db_file="workflows.db"),
    steps=[...],
)

# Run a few times
workflow.run(input="Task 1")
workflow.run(input="Task 2")

# Get aggregated metrics
metrics = workflow.get_session_metrics()

print(f"Total tokens: {metrics.total_tokens}")
print(f"Input tokens: {metrics.input_tokens}")
print(f"Output tokens: {metrics.output_tokens}")
print(f"Total cost: ${metrics.total_cost}")
```

## Get Metrics for Specific Session

```python
# Get metrics for a different session
metrics = workflow.get_session_metrics(session_id="user-123-session")
```

## Async Support

```python
# Async version
metrics = await workflow.aget_session_metrics(session_id="async-session")
```

## Access from Session

```python
# Get session to see how metrics are stored
session = workflow.get_session(session_id="my-session")

if session.session_data:
    metrics_dict = session.session_data.get("session_metrics", {})
    print(f"Total tokens: {metrics_dict.get('total_tokens')}")
    print(f"Total cost: {metrics_dict.get('total_cost')}")
```

## Compare Run vs Session Metrics

```python
# Run workflow
result = workflow.run(input="Process data")

# Run metrics (this execution only)
print(f"This run used: {result.metrics.total_tokens} tokens")

# Session metrics (all runs)
session_metrics = workflow.get_session_metrics()
print(f"Session total: {session_metrics.total_tokens} tokens")
```

## Handle Missing Metrics

```python
metrics = workflow.get_session_metrics()

if metrics is None:
    print("No metrics available")
else:
    tokens = metrics.total_tokens if metrics.total_tokens else 0
    print(f"Total tokens: {tokens}")
```

## Related Topics

<CardGroup cols={2}>
  <Card title="Tracking Patterns" icon="lightbulb" href="/basics/sessions/workflow-sessions/metrics/usage/tracking-patterns">
    Common monitoring patterns
  </Card>
  <Card title="Overview" icon="book" href="/basics/sessions/workflow-sessions/metrics/overview">
    Back to metrics overview
  </Card>
</CardGroup>

