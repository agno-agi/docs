---
title: Enable Session Summaries
description: Automatically condense long conversations into concise summaries
---

This example demonstrates how to enable automatic session summaries that help manage long conversations by condensing them into concise, contextual summaries.

## Why Use Session Summaries?

As conversations grow longer, including the entire chat history becomes expensive and slow. Session summaries solve this by automatically creating condensed versions of your conversations that capture the key points.

<Tabs>
<Tab title="Agent">

## Code

```python enable_summaries.py
from agno.agent import Agent
from agno.db.postgres import PostgresDb
from agno.models.openai import OpenAIChat

db_url = "postgresql+psycopg://ai:ai@localhost:5532/ai"
db = PostgresDb(db_url=db_url, session_table="sessions")

agent = Agent(
    model=OpenAIChat(id="gpt-4o-mini"),
    db=db,
    enable_session_summaries=True,  # Enable automatic summaries
    session_id="conversation_123",
)

# Have a conversation
agent.print_response("Hi, my name is John and I live in New York")
agent.print_response("I like to play basketball and hike in the mountains")

# Retrieve the summary
session_summary = agent.get_session_summary(session_id="conversation_123")
print(f"\nSummary: {session_summary.summary}")
if session_summary.topics:
    print(f"Topics: {', '.join(session_summary.topics)}")
```

## Usage

<Steps>
  <Snippet file="create-venv-step.mdx" />

  <Step title="Install libraries">
    ```bash
    pip install -U agno openai psycopg2-binary
    ```
  </Step>

  <Step title="Setup PostgreSQL">
    ```bash
    # Make sure PostgreSQL is running
    # Update connection string in the code as needed
    ```
  </Step>

  <Step title="Export your OpenAI API key">
    <CodeGroup>
    ```bash Mac/Linux
      export OPENAI_API_KEY="your_openai_api_key_here"
    ```

    ```bash Windows
      $Env:OPENAI_API_KEY="your_openai_api_key_here"
    ```
    </CodeGroup> 
  </Step>

  <Step title="Run the code">
    ```bash
    python enable_summaries.py
    ```
  </Step>
</Steps>

</Tab>

<Tab title="Team">

## Code

```python enable_summaries.py
from agno.agent import Agent
from agno.team import Team
from agno.db.postgres import PostgresDb
from agno.models.openai import OpenAIChat

db_url = "postgresql+psycopg://ai:ai@localhost:5532/ai"
db = PostgresDb(db_url=db_url, session_table="sessions")

agent = Agent(model=OpenAIChat(id="gpt-4o-mini"))

team = Team(
    model=OpenAIChat(id="gpt-4o-mini"),
    members=[agent],
    db=db,
    enable_session_summaries=True,  # Enable automatic summaries
)

# Have a conversation
team.print_response("Hi, my name is John and I live in New York")
team.print_response("I like to play basketball and hike in the mountains")

# Retrieve the summary
session_summary = team.get_session_summary()
print(f"\nSummary: {session_summary.summary}")
if session_summary.topics:
    print(f"Topics: {', '.join(session_summary.topics)}")
```

## Usage

<Steps>
  <Snippet file="create-venv-step.mdx" />

  <Step title="Install libraries">
    ```bash
    pip install -U agno openai psycopg2-binary
    ```
  </Step>

  <Step title="Setup PostgreSQL">
    ```bash
    # Make sure PostgreSQL is running
    # Update connection string in the code as needed
    ```
  </Step>

  <Step title="Export your OpenAI API key">
    <CodeGroup>
    ```bash Mac/Linux
      export OPENAI_API_KEY="your_openai_api_key_here"
    ```

    ```bash Windows
      $Env:OPENAI_API_KEY="your_openai_api_key_here"
    ```
    </CodeGroup> 
  </Step>

  <Step title="Run the code">
    ```bash
    python enable_summaries.py
    ```
  </Step>
</Steps>

</Tab>
</Tabs>

## Summary Object Structure

The `SessionSummary` object contains:

```python
session_summary = agent.get_session_summary()

# Available attributes:
session_summary.summary      # str: Concise summary of the conversation
session_summary.topics       # Optional[List[str]]: Key topics discussed
session_summary.updated_at   # Optional[datetime]: Last update timestamp
```

## Customizing Summaries

Want more control over how summaries are generated? Use `SessionSummaryManager`:

```python
from agno.session import SessionSummaryManager

# Customize summary generation
summary_manager = SessionSummaryManager(
    model=OpenAIChat(id="gpt-4o-mini"),  # Use a cheaper model for summaries
    session_summary_prompt="Create a brief, bullet-point summary focusing on key decisions:",
    summary_request_message="Provide the summary in Spanish.",  # Change language
)

agent = Agent(
    model=OpenAIChat(id="gpt-4o"),  # Agent uses gpt-4o
    db=db,
    session_summary_manager=summary_manager,  # But summaries use gpt-4o-mini
)
```

### Customization Options

- **`model`**: Use a different (often cheaper/faster) model for generating summaries
- **`session_summary_prompt`**: Override the system prompt that instructs how to create summaries
- **`summary_request_message`**: Customize the user message sent to request the summary

This is especially useful when you want to use a cheaper model for summaries while keeping your main agent on a more powerful model.

## When Summaries Are Created

Summaries are automatically created and updated:
- ✅ After each conversation turn (when `enable_session_summaries=True`)
- ✅ Stored in the database with the session
- ✅ Updated incrementally as the conversation progresses

## Key Points

- **Requires Database**: Session summaries require a configured database
- **Automatic**: Once enabled, summaries are created and updated automatically
- **Cost Effective**: Use a cheaper model for summaries via `SessionSummaryManager`
- **Incremental**: Summaries update as the conversation grows
- **Retrieval**: Access via `get_session_summary()` method

## Next Steps

- Learn how to [use summaries in context](/basics/sessions/session-summaries/usage/summary-context)
- Explore [history management](/basics/sessions/history-management/overview) for controlling conversation history

