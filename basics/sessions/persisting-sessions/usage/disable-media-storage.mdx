---
title: Disable Media Storage
description: Learn how to control whether media files are persisted to your database
---

By default, Agno stores all media (images, videos, audio, files) uploaded by users or generated by tools in the database. For applications with heavy media usage, this can quickly fill your database.

The `store_media` flag lets you control this behavior. When set to `False`, media is still available during execution (so tools can process it), but it's not persisted to the database.

## Key Concepts

**Runtime vs. Storage**: Media is available during the run and processed by tools, but scrubbed before database persistence:

- ✅ Media is available to your agent/team during execution
- ✅ Tools can access and process media
- ✅ The model receives media (if `send_media_to_model=True`)
- ⚠️ Media is not persisted to the database

## Basic Example

<Tabs>
  <Tab title="Agent">
```python
from agno.agent import Agent
from agno.db.sqlite import SqliteDb
from agno.models.openai import OpenAIChat

agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    db=SqliteDb(db_file="tmp/agent.db"),
    store_media=False,  # Don't persist uploaded files
)

# Agent can process the image, but it won't be stored
agent.run(
    "Describe this image",
    images=[Image(url="https://example.com/image.jpg")]
)

# Check what was stored
stored_run = agent.get_last_run_output()
print(f"Images in stored run: {stored_run.images}")  # Will be None or []
```
  </Tab>

  <Tab title="Team">
```python
from agno.team import Team
from agno.agent import Agent
from agno.db.sqlite import SqliteDb
from agno.models.openai import OpenAIChat

team = Team(
    model=OpenAIChat(id="gpt-4o"),
    members=[
        Agent(name="Vision Expert", role="You analyze images"),
    ],
    db=SqliteDb(db_file="tmp/team.db"),
    store_media=False,  # Don't persist uploaded files
)

# Team can process the image, but it won't be stored
team.run(
    "Describe this image",
    images=[Image(url="https://example.com/image.jpg")]
)

# Check what was stored
stored_run = team.get_last_run_output()
print(f"Images in stored run: {stored_run.images}")  # Will be None or []
```
  </Tab>
</Tabs>
