---
title: Persisting Sessions
sidebarTitle: Persisting Sessions
description: Store session data in a database for multi-turn conversations
keywords: [sessions, database, persistence, PostgreSQL, SQLite]
---

To enable sessions across multiple runs, you need to configure a database. Once configured, Agno automatically stores conversation history, session state, and run metadata.

<Note>
Database selection, connection strings, credentials management, and operational guidance live in the [Storage overview](/basics/storage/overview). Reuse that setup here—this page only adds the session-specific considerations.
</Note>

## Quick Start

Once you have a `db` object (Postgres, SQLite, DynamoDB, …) configured per the storage docs, persistence is enabled simply by passing it to your Agent, Team, or Workflow:

```python
db = PostgresDb(db_url="postgresql+psycopg://...")

agent = Agent(
    model=OpenAIChat(id="gpt-4o-mini"),
    db=db,                 # Enables persistence
    session_id="user_123", # Same ID = same conversation
)
```

## Supported Databases

Nothing new lives here—simply reuse the database drivers and guidance from `/basics/storage`:

- **PostgreSQL** (recommended) – Production-grade, supports custom `session_table` names for isolating workloads.
- **SQLite** – Great for local development; swap the file path just as you would elsewhere.
- **InMemoryDb** – Useful for tests or demos only. Data disappears when the process exits.

If you need to tune indexing, retention, or connection pools, do that in the shared storage layer so every feature (sessions, memories, knowledge, etc.) benefits from the same configuration.

## Session IDs

Sessions are identified by `session_id`. Use the same ID to continue a conversation:

```python
# First run
agent = Agent(
    model=OpenAIChat(id="gpt-4o-mini"),
    db=db,
    session_id="conversation_123",
)
agent.run("My name is Alice")

# Later run with same session_id
agent = Agent(
    model=OpenAIChat(id="gpt-4o-mini"),
    db=db,
    session_id="conversation_123",  # Same ID
    add_history_to_context=True,     # Enable history
)
agent.run("What's my name?")  # Agent remembers "Alice"
```

Need custom naming conventions, caching, or UI-friendly labels? Continue with the [Session Management](/basics/sessions/session-management) guide.

## What Gets Stored

When you configure a database, Agno automatically stores:

- ✅ **Messages** - User inputs and agent responses
- ✅ **Run metadata** - Timestamps, token usage, model info
- ✅ **Session state** - Custom key-value data
- ✅ **Tool calls** - Tool usage and results (optional)
- ✅ **Media** - Images, audio, files (optional)

See [Storage Control](/basics/sessions/storage-control) to customize what gets saved.

## Multi-User Sessions

Use `user_id` to track different users:

```python
agent = Agent(
    model=OpenAIChat(id="gpt-4o-mini"),
    db=db,
    user_id="alice@example.com",
    session_id="session_456",
)
```

## Key Points

- **Database Required**: Session features require a configured database
- **Automatic Storage**: No manual save/load needed - it's automatic
- **Session ID**: Same `session_id` = same conversation thread
- **Production**: Use PostgreSQL for production workloads
- **Development**: SQLite or in-memory work great for local development

